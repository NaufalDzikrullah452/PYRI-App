<>
  <effect
    meta={{
      showProfile: false,
      showMasterData: false,
      showManagement: false,
      showDashboard: false,
      changeDashboard: (open) => {},
      changeProfile: (open) => {},
      changeManagement: (open) => {},
      changeMasterData: (open) => {},
      users: [],
      admin: [],
      filter: {
        role: "ROLE",
        user: "USER",
      },
      searching: "",
      entries: 5,
      last_entries: 5,
      first_entries: 0,
      pages: 1,
      sum_pages: 0,
      pages_array: [],
      loading_page: true,

      async onFilter(key, e) {
        let value = e;

        if (key === "role") {
          value = e.target.value;
          runInAction(() => {
            this.filter[key] = value;
          });
          this.onChange("searching", this.searching, "filter");
        } else if (key === "user") {
          runInAction(() => {
            this.filter[key] = value;
          });

          if (value == "asc") {
            runInAction(() => {
              this.users.sort(function (a, b) {
                if (a.user_name.toLowerCase() < b.user_name.toLowerCase()) {
                  return -1;
                }

                if (a.user_name.toLowerCase() > b.user_name.toLowerCase()) {
                  return 1;
                }

                return 0;
              });
            });
          } else if (value == "desc") {
            runInAction(() => {
              this.users.sort(function (a, b) {
                if (a.user_name.toLowerCase() > b.user_name.toLowerCase()) {
                  return -1;
                }

                if (a.user_name.toLowerCase() < b.user_name.toLowerCase()) {
                  return 1;
                }

                return 0;
              });
            });
          } else {
            runInAction(() => {
              this.users.sort(function (a, b) {
                if (a.user_id < b.user_id) {
                  return -1;
                }

                if (a.user_id > b.user_id) {
                  return 1;
                }

                return 0;
              });
            });
          } // console.log(value);
        }
      },

      async onChange(key, e, filter = null) {
        this.loading_page = true;
        let value = e;

        if (filter !== "filter") {
          value = e.target.value;
        }

        if (key === "entries") {
          runInAction(() => {
            this[key] = value;
            this.first_entries = 0;
            this.pages = 1;
            this.last_entries = parseInt(value);
            this.sum_pages = Math.ceil(this.users.length / this.entries);
            this.pages_array = Array.apply(null, {
              length: this.sum_pages,
            }).map(Number.call, Number);
            this.loading_page = false;
          });
        } else if (key === "searching") {
          var user_searching = "";
          runInAction(() => {
            this[key] = value;
          });

          if (this.filter.role === "Admin" || this.filter.role === "User") {
            api("/api/api-users", {
              users: {
                user_name: value,
                user_level: this.filter.role === "Admin",
              },
              e: "SearchingNotBlocked",
            }).then((res) => {
              runInAction(() => {
                this.users = res.users;
                this.first_entries = 0;
                this.pages = 1;
                this.last_entries = parseInt(this.entries);
                this.sum_pages = Math.ceil(this.users.length / this.entries); // meta.page_array = new Array(meta.sum_page);

                this.pages_array = Array.apply(null, {
                  length: this.sum_pages,
                }).map(Number.call, Number);
                this.loading_page = false;
              });

              if (this.filter.user !== "USER") {
                this.onFilter("user", this.filter.user);
              }
            });
          } else {
            api("/api/api-users", {
              users: {
                user_name: value,
              },
              e: "SearchingNotBlocked",
            }).then((res) => {
              runInAction(() => {
                this.users = res.users;
                this.first_entries = 0;
                this.pages = 1;
                this.last_entries = parseInt(this.entries);
                this.sum_pages = Math.ceil(this.users.length / this.entries); // meta.page_array = new Array(meta.sum_page);

                this.pages_array = Array.apply(null, {
                  length: this.sum_pages,
                }).map(Number.call, Number);
                this.loading_page = false;
              });

              if (this.filter.user !== "USER") {
                this.onFilter("user", this.filter.user);
              }
            });
          }
        } // console.log(key + " : " + this[key]);
        // console.log("page : " + this.page);
        // console.log("last_entries : " + this.last_entries);
      },

      async onClickPages(key, value) {
        if (value !== this.pages && value !== 0 && value <= this.sum_pages) {
          const last_pages = this.pages;
          const gap = value - last_pages;
          const res = gap > 0;
          runInAction(() => {
            this.pages = value;

            if (res) {
              this.first_entries += parseInt(this.entries) * Math.abs(gap);
              this.last_entries += parseInt(this.entries) * Math.abs(gap);
            } else {
              this.first_entries -= parseInt(this.entries) * Math.abs(gap);
              this.last_entries -= parseInt(this.entries) * Math.abs(gap);
            }
          }); // console.log(key + " : " + value);
          // console.log("first_entries : " + this.first_entries);
          // console.log("last_entries : " + this.last_entries);
          // console.log("gap : " + res);
        }
      },

      async onDelete(id) {
        var res = confirm("Confirm Delete ?");

        if (res) {
          api("/api/api-users", {
            users: {
              user_id: parseInt(id),
            },
            e: "Delete",
          }).then((res) => {
            if (res.res !== "Failure" && res !== null) {
              api("/api/api-users", {
                e: "ReadNotBlocked",
              }).then((res) => {
                runInAction(() => {
                  this.users = res.users;
                  this.sum_pages = Math.ceil(this.users.length / this.entries); // meta.page_array = new Array(meta.sum_page);

                  this.pages_array = Array.apply(null, {
                    length: this.sum_pages,
                  }).map(Number.call, Number);
                  this.loading_page = false;
                });
              });
            } else {
              alert("Database error !");
            }
          });
        }
      },

      async userBlock(id) {
        var conf = confirm("Block user?");

        if (conf) {
          api("/api/api-users", {
            users: {
              user_id: parseInt(id),
            },
            e: "BlockUser",
          }).then((res) => {
            if (res.res !== "Failure" && res !== null) {
              api("/api/api-users", {
                e: "ReadNotBlocked",
              }).then((res) => {
                runInAction(() => {
                  this.users = res.users;
                  this.sum_pages = Math.ceil(this.users.length / this.entries); // meta.page_array = new Array(meta.sum_page);

                  this.pages_array = Array.apply(null, {
                    length: this.sum_pages,
                  }).map(Number.call, Number);
                  this.loading_page = false;
                });
              });
            } else {
              alert("Database error !");
            }
          });
        }
      },

      async logout() {
        confirm("Logout of admin?") &&
          (await api("/api/admin", {
            data: "",
            event: "Logout",
          }).then((res) => {
            navigate("/login-admin");
          }));
      },
    }}
    run={async () => {
      if (window.user.roleAdmin !== "admin") {
        navigate("/login-admin");
      } // runInAction(() => {
      //   meta.showManagement = true;
      // });

      meta.action = {
        changeDashboard: (open) => {
          meta.showDashboard = open;
          let img = document.getElementById("chevron-dashboard");

          if (open == true) {
            img.setAttribute("style", "transform: rotate(0deg);");
          } else {
            img.setAttribute("style", "transform: rotate(180deg);");
          }
        },
        changeMasterData: (open) => {
          meta.showMasterData = open;
          let img = document.getElementById("chevron-master");

          if (open == true) {
            img.setAttribute("style", "transform: rotate(0deg);");
          } else {
            img.setAttribute("style", "transform: rotate(180deg);");
          }
        },
        changeManagement: (open) => {
          meta.showManagement = open;
          let img = document.getElementById("chevron-management");

          if (open == true) {
            img.setAttribute("style", "transform: rotate(0deg);");
          } else {
            img.setAttribute("style", "transform: rotate(180deg);");
          }
        },
        changeProfile: (open) => {
          meta.showProfile = open;
        },
      };
      var user = "";
      await api("/api/api-users", {
        e: "ReadNotBlocked",
      }).then((res) => {
        user = res.users;
      });
      runInAction(() => {
        meta.admin = window.user.admin;
        meta.users = user;
        meta.sum_pages = Math.ceil(meta.users.length / meta.entries); // meta.page_array = new Array(meta.sum_page);

        meta.pages_array = Array.apply(null, {
          length: meta.sum_pages,
        }).map(Number.call, Number);
        meta.loading_page = false;
      });
    }}
  />
  <div class={`w-full flex self-stretch items-start justify-start bg-white`}>
    <div class={`w-full flex flex-1 self-stretch items-start justify-start`}>
      <div
        class={`flex self-stretch flex-col space-y-10 items-center justify-start pt-4 pb-9 bg-gray-900 fixed h-full overflow-y-auto`}
        style={
          "background-color: black; z-index:1; width: 254px; overflow:hidden  "
        }
      >
        <div
          class={`flex self-stretch items-center justify-center px-9`}
          style={"margin-top:35px;"}
        >
          <img
            class={`flex space-x-2.5 items-start justify-start`}
            src="/uploads/logo/pyri.svg"
          />
        </div>
        <div
          class={`text-white flex flex-1 flex-col space-y-1 items-start justify-start px-2.5`}
          style={"margin-top:50px; padding-left:40px"}
        >
          <div
            class={`flex self-stretch space-x-2.5 items-center justify-start py-3 pl-9 pr-3 rounded-2xl`}
            style=":hover {background-color: rgba(255, 143, 0, 0.2); color: #FF8F00 !important; cursor:pointer;}"
            onClick={() => {
              if (meta.showDashboard == false) {
                meta.action.changeDashboard(true);
                meta.action.changeMasterData(false);
                meta.action.changeManagement(false);
              } else {
                meta.action.changeDashboard(false);
                meta.action.changeMasterData(false);
                meta.action.changeManagement(false);
              }
            }}
          >
            <img
              src="/fimgs/5289_31975.x1.svg"
              style="width: 16px; min-width: 16px; max-width: 16px; height: 16px; min-height: 16px; max-height: 16px;"
            />
            <div class="flex flex-1 items-center justify-start">
              <div class="text-base font-bold leading-normal text-gray-50">
                Dashboard
              </div>
            </div>
            <img
              src="/fimgs/5289_31979.x1.svg"
              class={`transform rotate-180`}
              id="chevron-dashboard"
              style={`width: 18.87px; min-width: 18.87px; max-width: 18.87px; height: 18.43px; min-height: 18.43px; max-height: 18.43px; margin-right:25px !important;`}
            />
          </div>
          {meta.showDashboard && (
            <div
              class={`flex self-stretch flex-col space-y-1 items-start justify-start`}
            >
              <div
                class={`flex self-stretch space-x-2.5 items-center justify-start px-9 py-3 rounded-2xl`}
                style=":hover {background-color: rgba(255, 143, 0, 0.2); color: #FF8F00 !important; cursor:pointer;}"
                onClick={() => {
                  navigate("/w-dashboard-user");
                }}
              >
                <div />
                <div class="flex flex-1 items-start justify-start">
                  <div class="text-base font-bold leading-normal text-white">
                    User
                  </div>
                </div>
              </div>
              <div
                class={`flex self-stretch space-x-2.5 items-center justify-start px-9 py-3 rounded-2xl`}
                style=":hover {background-color: rgba(255, 143, 0, 0.2); color: #FF8F00 !important; cursor:pointer;}"
                onClick={() => {
                  navigate("/w-dashboard-content");
                }}
              >
                <div />
                <div class="flex flex-1 items-start justify-start">
                  <div class="text-base font-bold leading-normal text-gray-50">
                    Konten
                  </div>
                </div>
              </div>
            </div>
          )}
          <div
            class={`flex self-stretch space-x-2.5 items-center justify-center py-3 pl-9 pr-3 rounded-2xl`}
            style=":hover {background-color: rgba(255, 143, 0, 0.2); color: #FF8F00 !important; cursor:pointer;}"
            onClick={() => {
              if (meta.showMasterData == false) {
                meta.action.changeMasterData(true);
                meta.action.changeManagement(false);
              } else {
                meta.action.changeMasterData(false);
                meta.action.changeManagement(false);
              }
            }}
          >
            <img
              src="/fimgs/3192_19711.x1.svg"
              style="width: 14.70px; min-width: 14.70px; max-width: 14.70px; height: 16px; min-height: 16px; max-height: 16px;"
            />
            <div class="flex flex-1 items-center justify-center">
              <div class="flex flex-1 items-start justify-start">
                <div class="text-base font-bold leading-normal text-gray-50">
                  Master Data
                </div>
              </div>
            </div>
            <img
              src="/fimgs/3192_19716.x1.svg"
              class={`transform rotate-180`}
              id="chevron-master"
              style={`width: 18.87px; min-width: 18.87px; max-width: 18.87px; height: 18.43px; min-height: 18.43px; max-height: 18.43px; margin-right:24.5px !important;`}
            />
          </div>
          <div class={`flex self-stretch flex-col items-start justify-start`}>
            {
              <div
                class={`flex self-stretch flex-col space-y-1 items-start justify-start`}
                style={`overflow:hidden;
  ${
    meta.showMasterData
      ? "transition: height 0.5s ease-in-out;height: 100%"
      : "height: 0"
  }`}
              >
                <div
                  class={`flex self-stretch space-x-2.5 items-center justify-start px-9 py-3 rounded-2xl`}
                  style=":hover {background-color: rgba(255, 143, 0, 0.2); color: #FF8F00 !important; cursor:pointer}"
                  onClick={() => {
                    navigate("/w-master-kategori");
                  }}
                >
                  <div />
                  <div class="flex flex-1 items-start justify-start">
                    <div class="text-base font-bold leading-normal text-gray-50">
                      Kategori Buku
                    </div>
                  </div>
                </div>
                <div
                  class={`flex self-stretch space-x-2.5 items-center justify-start px-9 py-3 rounded-2xl`}
                  style=":hover {background-color: rgba(255, 143, 0, 0.2); color: #FF8F00 !important; cursor:pointer}"
                  onClick={() => {
                    navigate("/w-master-genre");
                  }}
                >
                  <div />
                  <div class="flex flex-1 items-start justify-start">
                    <div class="text-base font-bold leading-normal text-gray-50">
                      Genre Buku
                    </div>
                  </div>
                </div>
                <div
                  class={`flex self-stretch space-x-2.5 items-center justify-start px-9 py-3 rounded-2xl`}
                  style=":hover {background-color: rgba(255, 143, 0, 0.2); color: #FF8F00 !important; cursor:pointer}"
                  onClick={() => {
                    navigate("/w-master-author");
                  }}
                >
                  <div />
                  <div class="flex flex-1 items-start justify-start">
                    <div class="text-base font-bold leading-normal text-white">
                      Author{" "}
                    </div>
                  </div>
                </div>
                <div
                  class={`flex self-stretch space-x-2.5 items-center justify-start px-9 py-3 rounded-2xl`}
                  style=":hover {background-color: rgba(255, 143, 0, 0.2); color: #FF8F00 !important; cursor:pointer}"
                  onClick={() => {
                    navigate("/w-master-publisher");
                  }}
                >
                  <div />
                  <div class="flex flex-1 items-start justify-start">
                    <div class="text-base font-bold leading-normal text-gray-50">
                      Publisher
                    </div>
                  </div>
                </div>
              </div>
            }
          </div>
          <div
            class={`flex self-stretch space-x-2.5 items-center justify-start px-9 py-3 rounded-2xl w-full`}
            style=":hover {background-color: rgba(255, 143, 0, 0.2); color: #FF8F00 !important; cursor:pointer;}"
            onClick={() => {
              if (meta.showManagement == false) {
                meta.action.changeMasterData(false);
                meta.action.changeManagement(true);
              } else {
                meta.action.changeMasterData(false);
                meta.action.changeManagement(false);
              }
            }}
          >
            <img
              src="/fimgs/3192_19736.x1.svg"
              class="flex items-start justify-start"
              style="width: 15.75px; min-width: 15.75px; max-width: 15.75px; height: 18px; min-height: 18px; max-height: 18px;"
            />
            <div class={`flex items-start justify-start w-full`}>
              <div
                class={`text-base font-bold leading-normal text-gray-50`}
                style={`white-space: nowrap;`}
              >
                User Management
              </div>
            </div>
            <img
              src="/fimgs/3192_19741.x1.svg"
              id="chevron-management"
              class={`transform rotate-180`}
              style={`width: 18.87px; min-width: 18.87px; max-width: 18.87px; height: 18.43px; min-height: 18.43px; max-height: 18.43px;`}
            />
          </div>
          {meta.showManagement && (
            <div
              class={`flex self-stretch flex-col space-y-1 items-start justify-start`}
            >
              <div
                class={`flex self-stretch space-x-2.5 items-center justify-start px-9 py-3 rounded-2xl`}
                style=":hover {background-color: rgba(255, 143, 0, 0.2); color: #FF8F00 !important; cursor:pointer;}"
                onClick={() => {
                  navigate("/w-master-user");
                }}
              >
                <div />
                <div class="flex flex-1 items-start justify-start">
                  <div class="text-base font-bold leading-normal text-gray-50">
                    Data User
                  </div>
                </div>
              </div>
              <div
                class={`flex self-stretch space-x-2.5 items-center justify-start px-9 py-3 rounded-2xl`}
                style=":hover {background-color: rgba(255, 143, 0, 0.2); color: #FF8F00 !important; cursor:pointer;}"
                onClick={() => {
                  navigate("/w-master-user-blocked");
                }}
              >
                <div />
                <div class="flex flex-1 items-start justify-start">
                  <div class="text-base font-bold leading-normal text-gray-50">
                    Blocked User
                  </div>
                </div>
              </div>
              <div
                class={`flex self-stretch space-x-2.5 items-center justify-start px-9 py-3 rounded-2xl`}
                style=":hover {background-color: rgba(255, 143, 0, 0.2); color: #FF8F00 !important; cursor:pointer;}"
                onClick={() => {
                  navigate("/w-users-subscription");
                }}
              >
                <div />
                <div class="flex flex-1 items-start justify-start">
                  <div class="text-base font-bold leading-normal text-gray-50">
                    Subcription
                  </div>
                </div>
              </div>
              <div
                class={`flex self-stretch space-x-2.5 items-center justify-start px-9 py-3 rounded-2xl`}
                style=":hover {background-color: rgba(255, 143, 0, 0.2); color: #FF8F00 !important; cursor:pointer;}"
                onClick={() => {
                  navigate("/w-users-subscription-payment");
                }}
              >
                <div />
                <div class="flex flex-1 items-start justify-start">
                  <div class="text-base font-bold leading-normal text-gray-50">
                    Subcription Payment
                  </div>
                </div>
              </div>
            </div>
          )}
          <div
            class={`flex self-stretch space-x-2.5 items-center justify-start px-9 py-3 rounded-2xl`}
            style=":hover {background-color: rgba(255, 143, 0, 0.2); color: #FF8F00 !important; cursor:pointer;}"
            onClick={() => {
              navigate("/w-book");
            }}
          >
            <img
              src="/fimgs/3192_19753.x1.svg"
              style="width: 14.40px; min-width: 14.40px; max-width: 14.40px; height: 16px; min-height: 16px; max-height: 16px;"
            />
            <div class="flex flex-1 items-start justify-start">
              <div class="text-base font-bold leading-normal text-gray-50">
                Buku
              </div>
            </div>
          </div>
          <div />
        </div>
        <div class="flex self-stretch items-center justify-center">
          <div class="text-base leading-normal text-center text-gray-500">
            Copyright © 2021 Pyri
          </div>
        </div>
      </div>
      <div
        class={`w-full flex flex-1 self-stretch flex-col space-y-9 items-start justify-start relative overflow-y-auto bg-gray-100`}
        style={"margin-left:254px;"}
      >
        <div class="flex self-stretch flex-col items-start justify-center px-9 py-4 bg-white">
          <div class="flex self-stretch space-x-2.5 items-center justify-start">
            <div class="flex flex-1 items-start justify-start">
              <div class="text-3xl font-bold leading-10">User</div>
            </div>
            <div class="flex flex-col items-end justify-end">
              <div class="flex items-center justify-end px-4">
                <div
                  class={`flex space-x-2.5 items-center justify-center`}
                  style={"cursor:pointer;"}
                  onClick={() => {
                    if (meta.showProfile == false) {
                      meta.action.changeProfile(true);
                    } else {
                      meta.action.changeProfile(false);
                    }
                  }}
                >
                  <div
                    class={`flex items-start justify-start p-2.5`}
                    style="width: 60px; min-width: 60px; max-width: 60px; height: 60px; min-height: 60px; max-height: 60px;"
                  >
                    <img
                      src={
                        meta.admin.user_picture
                          ? "/upload/" + meta.admin.user_picture
                          : "/fimgs/4458_103716.x1.png"
                      }
                      onError={(e) => {
                        e.target.onerror = null;
                        e.target.src = "/fimgs/4458_103716.x1.png";
                      }}
                      style="width: 40px; min-width: 40px; max-width: 40px; height: 40px; min-height: 40px; max-height: 40px;background-image: url('/fimgs/bg-8fb2c341eee5b05b3a5c9f2f0c33ea6665ec17fb');background-size:100% 100%;background-repeat:no-repeat; "
                      class={`rounded-full`}
                    />
                  </div>
                  <div class="flex items-start justify-start">
                    <div
                      class={`text-base font-medium leading-normal text-gray-700`}
                    >
                      {meta.admin.user_name ||
                        meta.admin.user_username ||
                        "Admin"}
                    </div>
                  </div>
                  <img src="/fimgs/4385_20950.x1.svg" />
                </div>
              </div>
              {meta.showProfile && (
                <div
                  class={`flex flex-col items-center justify-end px-4 absolute`}
                  style={"top: 98px; z-index:1;"}
                >
                  <div
                    class={`flex self-stretch flex-col space-y-1 items-center justify-start p-4 bg-white shadow rounded`}
                  >
                    <div
                      class={`flex self-stretch items-center justify-center`}
                      style="cursor:pointer"
                      onClick={() => {
                        navigate("/w-profile-admin");
                      }}
                    >
                      <div class="text-base font-medium leading-normal text-gray-900">
                        Edit Profile
                      </div>
                    </div>
                    <div
                      class={`flex self-stretch space-x-2.5 items-center justify-center`}
                      onClick={meta.logout}
                      style="cursor:pointer"
                    >
                      <div class="text-base font-medium leading-normal text-gray-900">
                        Logout
                      </div>
                      <img
                        src="/fimgs/I3010_19291_1048_3884.x1.svg"
                        class={`flex items-start justify-start`}
                        style={`width: 18px; min-width: 18px; max-width: 18px; height: 18px; min-height: 18px; max-height: 18px;`}
                      />
                    </div>
                  </div>
                </div>
              )}
            </div>
          </div>
        </div>
        <div
          class={`w-full flex self-stretch flex-col items-start justify-start px-6 py-2 relative overflow-y-auto rounded`}
        >
          <div
            class={`flex self-stretch flex-col space-y-6 items-start justify-start p-6 relative overflow-y-auto bg-white rounded-lg`}
            style={"margin-bottom:100px;"}
          >
            <div class="flex self-stretch space-x-2.5 items-center justify-start">
              <div class="flex flex-1 items-start justify-start p-2.5">
                <div class="text-2xl font-bold leading-9 text-gray-900">
                  DATA USER
                </div>
              </div>
              <div
                class={`w-full flex space-x-4 items-center justify-start px-4 py-2 bg-gray-100 rounded-lg`}
                style="width: 300px; min-width: 300px; max-width: 300px;"
              >
                <img
                  src="/fimgs/3201_164269.x1.svg"
                  class="flex items-start justify-start"
                  style="width: 24px; min-width: 24px; max-width: 24px; height: 24px; min-height: 24px; max-height: 24px;"
                />
                <input
                  class={"w-full"}
                  type="text"
                  placeholder="Search"
                  style={`color: black;
      background:transparent; 
      outline: none;`}
                  onChange={(e) => {
                    meta.onChange("searching", e);
                  }}
                />
              </div>
            </div>
            <div class="flex self-stretch space-x-2.5 items-start justify-start">
              <div class="flex flex-1 self-stretch space-x-4 items-center justify-start">
                <div class="flex items-start justify-start">
                  <div class="text-base leading-normal">Show</div>
                </div>
                <div class="flex space-x-2 items-center justify-start">
                  <select
                    class={`flex flex-col space-y-2.5 items-center justify-start px-6 py-1 bg-white border rounded border-gray-500`}
                    style={`width: 95.87px; min-width: 95.87px; max-width: 95.87px;`}
                    value={meta.entries}
                    onChange={(e) => {
                      meta.onChange("entries", e);
                    }}
                  >
                    <option class={`hidden`} />
                    <option
                      value="5"
                      class={`flex flex-1 self-stretch flex-col items-start justify-start bg-white`}
                    >
                      5
                    </option>
                    <option
                      value="10"
                      class="flex flex-1 self-stretch flex-col items-start justify-start bg-white"
                    >
                      10
                    </option>
                    <option
                      value="25"
                      class="flex flex-1 self-stretch flex-col items-start justify-start bg-white"
                    >
                      25
                    </option>
                    <option
                      value="50"
                      class="flex flex-1 self-stretch flex-col items-start justify-start bg-white"
                    >
                      50
                    </option>
                  </select>
                  <div class="flex items-start justify-start">
                    <div class="text-base leading-normal">entries</div>
                  </div>
                </div>
              </div>
              <button
                class={`flex space-x-1 items-start justify-start px-4 py-2 bg-amber-500 shadow rounded`}
                style={`style={'margin-left: 10px;'}`}
                onClick={() => {
                  navigate("/w-master-user/add");
                }}
              >
                <img
                  src="/fimgs/3010_19300.x1.svg"
                  class="flex items-start justify-start"
                  style="width: 24px; min-width: 24px; max-width: 24px; height: 24px; min-height: 24px; max-height: 24px;"
                />
                <div class={`flex self-stretch items-start justify-start`}>
                  <div class={`text-base font-bold leading-normal text-white`}>
                    {children || "Tambah Users"}
                  </div>
                </div>
              </button>
            </div>
            <div class="flex self-stretch flex-col space-y-6 items-start justify-start">
              <table
                class={`table-autoflex self-stretch flex-col items-start justify-start`}
                style={`table-layout: auto;`}
              >
                <thead class="flex self-stretch flex-col items-end justify-center">
                  <tr
                    class={`w-full flex self-stretch space-x-3 items-center justify-start p-4 bg-gray-900 rounded`}
                  >
                    <th
                      class={`flex self-stretch flex-col items-start justify-center`}
                    >
                      <div class="text-base font-bold leading-normal text-white">
                        NO
                      </div>
                    </th>
                    <th
                      class={`flex self-stretch items-center justify-start pr-6 w-full`}
                      style={"min-width: 210px;"}
                    >
                      <div
                        class={`flex space-x-2.5 items-start justify-start cursor-pointer`}
                        onClick={() => {
                          if (!meta.loading) {
                            var key =
                              meta.filter.user === "USER"
                                ? "asc"
                                : meta.filter.user === "asc"
                                ? "desc"
                                : "USER";
                            meta.onFilter("user", key);
                          }
                        }}
                      >
                        <div
                          class={`text-base font-bold leading-normal text-white`}
                          style={
                            `  -webkit-user-select: none;  
  -moz-user-select: none;    
  -ms-user-select: none;      
  user-select: none;` +
                            (meta.filter.user === "USER"
                              ? "color: white"
                              : "color: #FF8F00")
                          }
                        >
                          USER
                        </div>
                        <ficon
                          aria-label={
                            meta.filter.user === "USER"
                              ? "Sort"
                              : meta.filter.user === "asc"
                              ? "SortUp"
                              : "SortDown"
                          }
                          iconName={
                            meta.filter.user === "USER"
                              ? "Sort"
                              : meta.filter.user === "asc"
                              ? "SortUp"
                              : "SortDown"
                          }
                          style={
                            `  -webkit-user-select: none;  
  -moz-user-select: none;    
  -ms-user-select: none;      
  user-select: none;` +
                            (meta.filter.user === "USER"
                              ? "color: white"
                              : "color: #FF8F00")
                          }
                        />
                      </div>
                    </th>
                    <th
                      class={`flex self-stretch items-center justify-start w-full`}
                      style={"min-width: 150px"}
                    >
                      <div class="text-base font-bold leading-normal text-white">
                        TANGGAL LAHIR
                      </div>
                    </th>
                    <th
                      class={`flex self-stretch items-center justify-start px-2.5 w-full`}
                      style={"min-width: 50px"}
                    >
                      <select
                        class={`flex flex-col space-y-2.5 items-start justify-start text-base font-bold leading-normal text-white cursor-pointer`}
                        defaultValue={"ROLE"}
                        disabled={meta.loading}
                        style={`border: none;
  color: white;
  outline: none;
    background-color: transparent;`}
                        id={"filterRole"}
                        onChange={(e) => {
                          runInAction(() => {
                            meta.onFilter("role", e);
                          });

                          if (meta.filter.role !== "ROLE") {
                            document.getElementById("filterRole").style.color =
                              "#FF8F00";
                          } else {
                            document.getElementById("filterRole").style.color =
                              "white";
                          }
                        }}
                      >
                        <option
                          class={`text-base font-bold leading-normal text-white`}
                          value={"ROLE"}
                          style={`color:black`}
                        >
                          ROLE
                        </option>
                        <option
                          class={`text-base font-bold leading-normal`}
                          value={"User"}
                          style={`color:black`}
                        >
                          User
                        </option>
                        <option
                          class={`text-base font-bold leading-normal`}
                          value={"Admin"}
                          style={`color:black`}
                        >
                          Admin
                        </option>
                      </select>
                    </th>
                    <th
                      class={`flex self-stretch items-center justify-center w-full`}
                      style={"min-width: 130px; "}
                    >
                      <div class="text-base font-bold leading-normal text-white">
                        JENIS KELAMIN
                      </div>
                    </th>
                    <th
                      class={`flex self-stretch items-center justify-center w-full`}
                      style={"min-width: 150px"}
                    >
                      <div class="text-base font-bold leading-normal text-center text-white">
                        TANGGAL GABUNG
                      </div>
                    </th>
                    {false && (
                      <th
                        class={`flex self-stretch items-center justify-start pl-2.5 w-full`}
                        style={"min-width: 50px"}
                      >
                        <div class="text-base font-bold leading-normal text-white">
                          PREMIUM
                        </div>
                      </th>
                    )}
                    <th
                      class={`flex self-stretch items-center justify-center w-full`}
                      style={"min-width: 105px"}
                    >
                      <div class="text-base font-bold leading-normal text-white">
                        AKSI
                      </div>
                    </th>
                  </tr>
                </thead>
                <tbody class="flex self-stretch flex-col items-start justify-start">
                  {meta.users
                    .slice(meta.first_entries, meta.last_entries)
                    .map((numList, i) => {
                      var odd = (i + 1) % 2;
                      return (
                        <tr
                          class={`w-full flex self-stretch space-x-3 items-center justify-start px-4 py-2.5 bg-white rounded ${
                            odd === 0 ? "bg-orange-100" : "bg-white"
                          }`}
                          style={":hover {background-color: #ffbe76;"}
                        >
                          <td
                            class={`flex self-stretch flex-col items-center justify-center pl-2.5`}
                            style={
                              "width: 15px;min-width: 15px;max-width: 15px;"
                            }
                          >
                            <div class={`text-base leading-normal`}>
                              {i + meta.first_entries + 1}
                            </div>
                          </td>
                          <td
                            class={`flex self-stretch space-x-3 items-start justify-start`}
                            style={`min-width: 210px;  padding-left: 8px;`}
                          >
                            <div class="flex self-stretch items-center justify-start">
                              <img
                                src={
                                  numList.user_picture
                                    ? "/upload/" + numList.user_picture
                                    : "/fimgs/3201_185125.x1.png"
                                }
                                onError={(e) => {
                                  e.target.onerror = null;
                                  e.target.src = "/fimgs/3201_185125.x1.png";
                                }}
                                style={`width: 44px; min-width: 44px; max-width: 44px; height: 44px; min-height: 44px; max-height: 44px;background-image: url('/fimgs/bg-b734a5be3aee0fd453c592a0baf71a7e7f723cd8');background-size:100% 100%;background-repeat:no-repeat; border-radius:50%; background-image:none;`}
                              />
                            </div>
                            <div
                              class={`flex flex-col items-start justify-start`}
                              style={"padding: 8px;"}
                            >
                              <div
                                class={`text-base font-medium leading-normal`}
                              >
                                {numList.user_name || "Name"}
                              </div>
                              <div
                                class={`text-sm leading-tight text-gray-600 text-gray-600`}
                                id={"email-" + numList.user_id}
                                style={
                                  "" + meta.email_info !== undefined &&
                                  meta.email_info !== null &&
                                  meta.email_info === "email" + numList.user_id
                                    ? " opacity:0;"
                                    : "opacity: 1;"
                                }
                                onMouseEnter={() => {
                                  runInAction(() => {
                                    meta.email_info = "email" + numList.user_id;
                                  });
                                }}
                                onMouseLeave={() => {
                                  runInAction(() => {
                                    meta.email_info = null;
                                  });
                                }}
                              >
                                {numList.user_email.length > 15
                                  ? numList.user_email.substring(0, 15) + "..."
                                  : numList.user_email || "-"}
                              </div>
                              {meta.email_info ===
                                "email" + numList.user_id && (
                                <div
                                  class={`text-sm leading-tight`}
                                  id={"email-" + numList.user_id}
                                  style={
                                    "position:absolute; margin-top : 24px; width: 160px; word-break: break-word;"
                                  }
                                  onMouseEnter={() => {
                                    runInAction(() => {
                                      meta.email_info =
                                        "email" + numList.user_id;
                                    });
                                  }}
                                  onMouseLeave={() => {
                                    runInAction(() => {
                                      meta.email_info = null;
                                    });
                                  }}
                                  onClick={() => {
                                    document.execCommand("copy");
                                  }}
                                >
                                  {numList.user_email || "-"}
                                </div>
                              )}
                            </div>
                          </td>
                          <td
                            class={`flex self-stretch items-center justify-center w-full`}
                            style={"width: 150px"}
                          >
                            <div
                              class={`text-base font-medium leading-normal text-gray-600`}
                            >
                              {dateFormat(
                                numList.user_birthday,
                                "dd MMM yyyy"
                              ) || "-"}
                            </div>
                          </td>
                          <td
                            class={`flex flex-1 self-stretch items-center justify-center w-full`}
                            style={`min-width: 50px`}
                          >
                            <div
                              class={`text-base font-medium leading-normal text-gray-600`}
                            >
                              {numList.user_level ? "Admin" : "User" || "User"}
                            </div>
                          </td>
                          <td
                            class={`flex flex-1 self-stretch items-center justify-center pr-3 w-full`}
                            style={"min-width: 130px"}
                          >
                            <div
                              class={`text-base font-bold leading-normal text-center text-gray-600`}
                            >
                              {numList.user_gender || "Unknown"}
                            </div>
                          </td>
                          <td
                            class={`flex flex-1 self-stretch items-center justify-end w-full`}
                            style={"min-width: 150px"}
                          >
                            <div
                              class={`text-base font-bold leading-normal text-gray-600`}
                            >
                              {dateFormat(
                                numList.user_date_created,
                                "dd MMM yyyy"
                              ) || "-"}
                            </div>
                          </td>
                          {false && (
                            <td
                              class={`flex flex-1 self-stretch space-x-2.5 items-center justify-center w-full`}
                              style={"min-width: 50px"}
                            >
                              {numList.user_membership_status === "Active" && (
                                <div
                                  class={`flex items-start justify-start px-3 py-1 bg-amber-500 rounded-full`}
                                >
                                  <div class="text-base font-bold leading-normal text-white">
                                    Aktif
                                  </div>
                                </div>
                              )}
                              {numList.user_membership_status ===
                                "NonActive" && (
                                <div
                                  class={`flex items-start justify-start px-3 py-1 border rounded-full border-gray-400`}
                                >
                                  <div
                                    class={`text-base font-bold leading-normal text-gray-600`}
                                  >
                                    Tidak
                                  </div>
                                </div>
                              )}
                            </td>
                          )}
                          <td
                            class={`flex flex-1 self-stretch items-center justify-center w-full`}
                            style={"min-width: 105px"}
                          >
                            <div class="flex flex-1 self-stretch space-x-1 items-center justify-center">
                              <div
                                class={`flex items-center justify-center rounded cursor-pointer`}
                                onClick={() => {
                                  navigate(
                                    "/w-master-user/edit/" + numList.user_id
                                  );
                                }}
                              >
                                <img
                                  src="/fimgs/3201_185142.x1.svg"
                                  style="width: 24px; min-width: 24px; max-width: 24px; height: 24px; min-height: 24px; max-height: 24px;"
                                />
                              </div>
                              <img
                                src="/fimgs/3201_185143.x1.svg"
                                class={`flex items-center justify-center rounded`}
                                style={`cursor: pointer`}
                                onClick={() => {
                                  var res = false;

                                  if (numList.user_level) {
                                    alert("Cant delete Admin !");
                                  } else {
                                    res = true;
                                  }

                                  if (res) {
                                    meta.onDelete(numList.user_id);
                                  }
                                }}
                              />
                              <img
                                src="/fimgs/3201_185145.x1.svg"
                                class={`flex items-start justify-start cursor-pointer`}
                                style={`width: 20px; min-width: 20px; max-width: 20px; height: 20px; min-height: 20px; max-height: 20px;`}
                                onClick={() => {
                                  var res = false;

                                  if (numList.user_level) {
                                    alert("Cant block Admin !");
                                  } else {
                                    res = true;
                                  }

                                  if (res) {
                                    meta.userBlock(numList.user_id);
                                  }
                                }}
                              />
                            </div>
                          </td>
                        </tr>
                      );
                    })}
                  {false &&
                    meta.filter.role !== "ROLE" &&
                    meta.filter.dataRole
                      .slice(meta.first_entries, meta.last_entries)
                      .map((numList, i) => {
                        var odd = (i + 1) % 2;
                        return (
                          <tr
                            class={`w-full flex self-stretch space-x-3 items-center justify-start px-4 py-2.5 rounded ${
                              odd === 0 ? "bg-orange-100" : "bg-white"
                            }`}
                            style={":hover {background-color: #ffbe76;"}
                          >
                            <td
                              class={`flex self-stretch flex-col items-center justify-center pl-2.5`}
                              style={
                                "width: 15px;min-width: 15px;max-width: 15px;"
                              }
                            >
                              <div class={`text-base leading-normal`}>
                                {i + meta.first_entries + 1}
                              </div>
                            </td>
                            <td
                              class={`flex self-stretch space-x-3 items-center justify-start`}
                              style={`min-width: 210px`}
                            >
                              <img
                                src={
                                  numList.user_picture
                                    ? "/upload/" + numList.user_picture
                                    : "/fimgs/3201_185125.x1.png"
                                }
                                onError={(e) => {
                                  e.target.onerror = null;
                                  e.target.src = "/fimgs/3201_185125.x1.png";
                                }}
                                style={`width: 44px; min-width: 44px; max-width: 44px; height: 44px; min-height: 44px; max-height: 44px;background-image: url('/fimgs/bg-b734a5be3aee0fd453c592a0baf71a7e7f723cd8');background-size:100% 100%;background-repeat:no-repeat; border-radius:50%; background-image:none;`}
                              />
                              <div
                                class={`flex flex-col items-start justify-center`}
                                style={"padding: 8px;"}
                              >
                                <div
                                  class={`text-base font-medium leading-normal`}
                                >
                                  {numList.user_name || "Name"}
                                </div>
                                <div
                                  class={`text-sm leading-tight text-gray-600`}
                                >
                                  {numList.user_email.length > 17
                                    ? numList.user_email.substring(0, 17) +
                                      "..."
                                    : numList.user_email || "Email"}
                                </div>
                              </div>
                            </td>
                            <td
                              class={`flex self-stretch items-center justify-center w-full`}
                              style={"width: 150px"}
                            >
                              <div
                                class={`text-base font-medium leading-normal text-gray-600`}
                              >
                                {dateFormat(
                                  numList.user_birthday,
                                  "dd MMM yyyy"
                                ) || "-"}
                              </div>
                            </td>
                            <td
                              class={`flex flex-1 self-stretch items-center justify-center w-full`}
                              style={`min-width: 50px`}
                            >
                              <div
                                class={`text-base font-medium leading-normal text-gray-600`}
                              >
                                {numList.user_level
                                  ? "Admin"
                                  : "User" || "User"}
                              </div>
                            </td>
                            <td
                              class={`flex flex-1 self-stretch items-center justify-center pr-3 w-full`}
                              style={"min-width: 130px"}
                            >
                              <div
                                class={`text-base font-bold leading-normal text-center text-gray-600`}
                              >
                                {numList.user_gender || "Unknown"}
                              </div>
                            </td>
                            <td
                              class={`flex flex-1 self-stretch items-center justify-end w-full`}
                              style={"min-width: 150px"}
                            >
                              <div
                                class={`text-base font-bold leading-normal text-gray-600`}
                              >
                                {dateFormat(
                                  numList.user_date_created,
                                  "dd MMM yyyy"
                                ) || "-"}
                              </div>
                            </td>
                            <td
                              class={`flex flex-1 self-stretch space-x-2.5 items-center justify-center w-full`}
                              style={"min-width: 50px"}
                            >
                              {numList.user_membership_status === "Active" && (
                                <div
                                  class={`flex items-start justify-start px-3 py-1 bg-amber-500 rounded-full`}
                                >
                                  <div class="text-base font-bold leading-normal text-white">
                                    Aktif
                                  </div>
                                </div>
                              )}
                              {numList.user_membership_status ===
                                "NonActive" && (
                                <div
                                  class={`flex items-start justify-start px-3 py-1 border rounded-full border-gray-400`}
                                >
                                  <div
                                    class={`text-base font-bold leading-normal text-gray-600`}
                                  >
                                    Tidak
                                  </div>
                                </div>
                              )}
                            </td>
                            <td
                              class={`flex flex-1 self-stretch items-center justify-center w-full`}
                              style={"min-width: 105px"}
                            >
                              <div class="flex flex-1 self-stretch space-x-1 items-center justify-center">
                                <div
                                  class={`flex items-center justify-center rounded cursor-pointer`}
                                  onClick={() => {
                                    navigate(
                                      "/w-master-user/edit/" + numList.user_id
                                    );
                                  }}
                                >
                                  <img
                                    src="/fimgs/3201_185142.x1.svg"
                                    class={`flex items-start justify-start`}
                                  />
                                </div>
                                <img
                                  src="/fimgs/3201_185143.x1.svg"
                                  class={`flex items-center justify-center rounded`}
                                  style={`cursor: pointer`}
                                  onClick={() => {
                                    var res = false;

                                    if (numList.user_level) {
                                      alert("Cant delete Admin !");
                                    } else {
                                      res = true;
                                    }

                                    if (res) {
                                      meta.onDelete(numList.user_id);
                                    }
                                  }}
                                />
                                <img
                                  src="/fimgs/3201_185145.x1.svg"
                                  class={`flex items-start justify-start cursor-pointer`}
                                  style={``}
                                  onClick={() => {
                                    var res = false;

                                    if (numList.user_level) {
                                      alert("Cant block Admin !");
                                    } else {
                                      res = true;
                                    }

                                    if (res) {
                                      meta.userBlock(numList.user_id);
                                    }
                                  }}
                                />
                              </div>
                            </td>
                          </tr>
                        );
                      })}
                  {meta.users.length === 0 && (
                    <tr
                      class={`w-full flex self-stretch items-center justify-center px-4 py-2.5 rounded`}
                      style={""}
                    >
                      <td class={`text-base leading-normal`}>
                        User data not found!
                      </td>
                    </tr>
                  )}
                </tbody>
              </table>
              <div class="flex self-stretch space-x-2.5 items-center justify-start bg-white">
                <div class="flex flex-1 space-x-2.5 items-start justify-start">
                  {
                    <div
                      class={`text-base leading-normal text-orange-900`}
                    >{`Showing ${meta.first_entries + 1} to 
${
  meta.last_entries <= meta.users.length ? meta.last_entries : meta.users.length
} of ${meta.users.length} entries`}</div>
                  }
                  {false && meta.filter.role !== "ROLE" && (
                    <div class={`text-base leading-normal`}>{`Showing ${
                      meta.first_entries + 1
                    } to 
${
  meta.last_entries <= meta.filter.dataRole.length
    ? meta.last_entries
    : meta.filter.dataRole.length
} of ${meta.filter.dataRole.length} entries`}</div>
                  )}
                </div>
                <div class="flex space-x-2 items-start justify-start">
                  <div
                    class={`flex self-stretch flex-col items-center justify-center px-2 bg-white rounded cursor-pointer`}
                    style={`:hover {outline: 2px solid #ababab;`}
                    onClick={() => {
                      meta.onClickPages(
                        "page" + (meta.pages - 1),
                        meta.pages - 1
                      );
                    }}
                  >
                    <img
                      src="/fimgs/3322_117740.x1.svg"
                      style={`width: 18px; min-width: 18px; max-width: 18px; height: 14px; min-height: 14px; max-height: 14px;`}
                    />
                  </div>
                  {meta.pages_array.map((numList, i) => {
                    const upper =
                      meta.pages + 2 < meta.pages_array.length
                        ? meta.pages + 2
                        : meta.pages_array.length;
                    const under = meta.pages - 2 > 0 ? meta.pages - 2 : 1;

                    if (
                      (numList + 1 < upper && numList + 1 > under) ||
                      numList + 1 === 1 ||
                      numList + 1 === meta.pages_array.length
                    ) {
                      return (
                        <div class={`flex items-start justify-start`}>
                          {
                            <div
                              class={`flex flex-col items-start justify-start px-2.5 py-1 bg-white rounded`}
                              style={`${
                                "page" + meta.pages === "page" + (i + 1)
                                  ? `background: #FF8F00;`
                                  : `:hover {background-color: #ffc780;}`
                              }
  cursor:pointer;`}
                              onClick={() => {
                                meta.onClickPages("page" + (i + 1), i + 1);
                              }}
                            >
                              <div class={`text-base leading-normal`}>
                                {numList + 1}
                              </div>
                            </div>
                          }
                        </div>
                      );
                    } else {
                      if (numList + 1 === upper || numList + 1 === under)
                        return "...";
                    }
                  })}
                  <div
                    class={`flex self-stretch flex-col items-center justify-center px-2 bg-white rounded cursor-pointer`}
                    style={`:hover {outline: 2px solid #ababab;`}
                    onClick={() => {
                      meta.onClickPages(
                        "page" + (meta.pages + 1),
                        meta.pages + 1
                      );
                    }}
                  >
                    <img
                      src="/fimgs/3322_117746.x1.svg"
                      style="width: 18px; min-width: 18px; max-width: 18px; height: 14px; min-height: 14px; max-height: 14px;"
                    />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</>