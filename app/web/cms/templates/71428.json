{"content":{"type":"API","structure":"","server_on_load":"async ({\n  template,\n  params,\n  render,\n  db,\n  req,\n  reply,\n  user,\n  log,\n  ext,\n  isDev,\n}: Server) => {\n  let { authors, e } = req?.body;\n  console.log(authors);\n  let res = \"Failure\";\n  if (e === \"Create\") {\n    const createAuthor = await db.authors.create({\n      data: authors,\n    }); //insert database\n    res = \"Insert Author Success\";\n  }\n  if (e === \"Update\") {\n    const updateAuthor = await db.authors.update({\n      where: {\n        author_id: authors.author_id,\n      },\n      data: authors,\n    });\n    // console.log(updateUser);\n    authors = updateAuthor;\n    res = \"Update Author Success\";\n  }\n  if (e === \"ReadAll\") {\n    const readAuthors = await db.authors.findMany({\n      orderBy: {\n        author_id: \"asc\",\n      },\n    });\n    authors = readAuthors;\n    console.log(user);\n    res = \"Read Authors Success\";\n  }\n  if (e === \"ReadById\") {\n    const readAuthors = await db.authors.findFirst({\n      where: {\n        author_id: authors.author_id,\n      },\n    });\n    authors = readAuthors;\n    console.log(user.authors.author_name);\n    res = \"Read Authors By Id Success\";\n  }\n  if (e === \"Delete\") {\n    authors = await db.authors.delete({\n      where: {\n        author_id: authors.author_id,\n      },\n    });\n    res = \"Delete Authors Success\";\n  }\n  reply.send({\n    res: res,\n    authors,\n    e,\n  })\n}","figma":{}},"title":"api-authors","type":"cms-template","lang":"","status":"SYSTEM","parent_id":"66283","slug":"/api/authors","site":"*","id":"71428"}